(this["webpackJsonpspotify-clone-react"]=this["webpackJsonpspotify-clone-react"]||[]).push([[0],{51:function(e,t,a){e.exports=a(71)},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(17),i=a.n(o),c=(a(56),a(4)),r=(a(57),window.location.origin+"/"),s="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("93c3ca3cd2024e11bfe8204cd3fa9c73","&redirect_uri=").concat(r,"&scopes=").concat(["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"].join("%20"),"&response_type=token&show_dialog=true");var u=function(){return l.a.createElement("div",{className:"login"},l.a.createElement("img",{src:"https://firebasestorage.googleapis.com/v0/b/spotify-raghavendra.appspot.com/o/logo.jpg?alt=media&token=f5835577-582c-4bde-861d-0a9127634b8e",alt:"Acoustic Logo Here"}),l.a.createElement("a",{href:s},"Login with Spotify"))},m=(a(58),a(29)),d=a.n(m),p=(a(59),a(60),a(19)),v=(a(61),Object(n.createContext)()),E=function(e){var t=e.initialState,a=e.reducer,o=e.children;return l.a.createElement(v.Provider,{value:Object(n.useReducer)(a,t)},o)},f=function(){return Object(n.useContext)(v)};var y=function(e){var t=e.spotify,a=e.title,n=e.id,o=e.Icon,i=f(),r=Object(c.a)(i,2);Object(p.a)(r[0]);var s=r[1];return l.a.createElement("div",{className:"sidebarOption"},o&&l.a.createElement(o,{className:"sidebarOption__icon"}),o?l.a.createElement("h4",null,a):l.a.createElement("p",{onClick:function(e){return function(e,a){s({type:"SET_CURRENT_PLAYLIST",id:e}),t.getPlaylistTracks(e).then((function(e){s({type:"SET_TRACKS",tracks:e})}))}(n)}},a))},_=a(30),g=a.n(_),b=a(21),S=a.n(b),k=a(33),T=a.n(k);var h=function(e){var t,a=e.spotify,n=f(),o=Object(c.a)(n,1)[0].playlists;return console.log(o),l.a.createElement("div",{className:"sidebar"},l.a.createElement("img",{className:"sidebar_logo",src:"https://firebasestorage.googleapis.com/v0/b/spotify-raghavendra.appspot.com/o/logo.jpg?alt=media&token=f5835577-582c-4bde-861d-0a9127634b8e",alt:"Acoustic Logo Here"}),l.a.createElement(y,{title:"Home",Icon:g.a}),l.a.createElement(y,{title:"Search",Icon:S.a}),l.a.createElement(y,{title:"Your Library",Icon:T.a}),l.a.createElement("br",null),l.a.createElement("strong",{className:"sidebar__title"},"PLAYLISTS"),l.a.createElement("hr",null),l.a.createElement(y,{spotify:a,title:"Acoustic Music",id:"2O3UCsm97Tv0bNgoFEpkhh",key:"2O3UCsm97Tv0bNgoFEpkhh"}),null===o||void 0===o||null===(t=o.items)||void 0===t?void 0:t.map((function(e){return l.a.createElement(y,{spotify:a,title:e.name,id:e.id,key:e.id})})))},O=(a(67),a(68),a(85)),N=a(34),j=a.n(N);var A=function(e){e.spotify;var t,a=f(),n=Object(c.a)(a,1)[0].user;return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"header__left"},l.a.createElement(S.a,null),l.a.createElement("input",{placeholder:"Search for Artists, Songs or Podcasts",type:"text"})),l.a.createElement("div",{className:"header__right"},l.a.createElement(O.a,{src:null===n||void 0===n||null===(t=n.images[0])||void 0===t?void 0:t.url,alt:null===n||void 0===n?void 0:n.display_name}),l.a.createElement("h4",null,null===n||void 0===n?void 0:n.display_name),l.a.createElement(j.a,{type:"submit",onClick:function(){window.location.reload()}})))},L=a(36),I=a.n(L),w=a(35),P=a.n(w),C=a(37),Y=a.n(C),R=a(38),U=a.n(R),G=(a(69),Object(n.createContext)()),K=function(e){var t=e.initialState,a=e.reducer,o=e.children;return l.a.createElement(G.Provider,{value:Object(n.useReducer)(a,t)},o)},x=function(){return Object(n.useContext)(G)};var M=function(e){var t=e.track,a=f(),n=Object(c.a)(a,2);Object(p.a)(n[0]);var o=n[1],i=x(),r=Object(c.a)(i,2),s=r[0],u=s.playing,m=s.repeat,d=r[1];return l.a.createElement("div",{className:"songRow",onClick:function(e){return function(e,t){o({type:"SET_TRACK",track:t});var a=u;d({type:"SET_PLAYING",playing:!1});var n=new Audio(t.preview_url);n.loop=m,d({type:"SET_AUDIO",audio:n}),a&&d({type:"SET_PLAYING",playing:!0}),document.title="".concat(t.name," \xb7 ").concat(t.artists.map((function(e){return e.name})).join(", "))}(0,t)}},l.a.createElement("img",{className:"songRow__album",src:t.album.images[0].url,alt:""}),l.a.createElement("div",{className:"songRow__info"},l.a.createElement("h1",null,t.name),l.a.createElement("p",null,t.artists.map((function(e){return e.name})).join(", ")),l.a.createElement("p",null,t.album.name)))};var D=function(e){var t,a=e.spotify,n=f(),o=Object(c.a)(n,1)[0],i=o.current_playlist,r=o.tracks,s=o.track,u=x(),m=Object(c.a)(u,2),d=m[0],p=d.playing,v=d.volume,E=m[1];return l.a.createElement("div",{className:"body"},l.a.createElement(A,{spotify:a}),l.a.createElement("div",{className:"body__info"},l.a.createElement("img",{src:i?null===i||void 0===i||null===(t=i.images[0])||void 0===t?void 0:t.url:"https://firebasestorage.googleapis.com/v0/b/spotify-raghavendra.appspot.com/o/logo.jpg?alt=media&token=f5835577-582c-4bde-861d-0a9127634b8e",alt:""}),l.a.createElement("div",{className:"body__infoText"},l.a.createElement("strong",null,"PLAYLIST"),l.a.createElement("h2",null,null===i||void 0===i?void 0:i.name),l.a.createElement("p",null,null===i||void 0===i?void 0:i.description))),l.a.createElement("div",{className:"body__songs"},l.a.createElement("div",{className:"body__icons"},p?l.a.createElement(P.a,{onClick:s?function(){E({type:"SET_PLAYING",playing:!1})}:null,className:"body__shuffle"}):l.a.createElement(I.a,{onClick:s?function(){E({type:"SET_PLAYING",playing:!0}),E({type:"SET_VOLUME",volume:v/100})}:null,fontSize:"large",className:"body__shuffle"}),l.a.createElement(Y.a,{fontSize:"large"}),l.a.createElement(U.a,null)),null===r||void 0===r?void 0:r.items.map((function(e){return l.a.createElement(M,{track:e.track,key:e.track.id})}))))},F=(a(70),a(42)),z=a.n(F),H=a(40),V=a.n(H),B=a(43),J=a.n(B),W=a(39),$=a.n(W),q=a(44),Q=a.n(q),X=a(83),Z=a(84),ee=a(45),te=a.n(ee),ae=a(46),ne=a.n(ae),le=a(41),oe=a.n(le);var ie=function(e){e.spotify;var t,a=f(),n=Object(c.a)(a,2),o=n[0],i=o.track,r=o.tracks,s=n[1],u=f(),m=Object(c.a)(u,1)[0].user,d=x(),p=Object(c.a)(d,2),v=p[0],E=v.audio,y=v.playing,_=v.volume,g=v.repeat,b=v.shuffle,S=p[1],k=function(){var e,t,a,n;!g&&b&&T();var l=0,o=0;(null===r||void 0===r?void 0:r.items).forEach((function(e){l++,e.track.id===i.id&&(o=l-1)})),s({type:"SET_TRACK",track:null===r||void 0===r||null===(e=r.items[o])||void 0===e?void 0:e.track});var c=y;S({type:"SET_PLAYING",playing:!1});var u=new Audio(null===r||void 0===r||null===(t=r.items[o])||void 0===t?void 0:t.track.preview_url);u.loop=g,S({type:"SET_AUDIO",audio:u}),c&&S({type:"SET_PLAYING",playing:!0}),document.title="".concat(null===r||void 0===r||null===(a=r.items[o])||void 0===a?void 0:a.track.name," \xb7 ").concat(null===r||void 0===r||null===(n=r.items[o])||void 0===n?void 0:n.track.artists.map((function(e){return e.name})).join(", "))},T=function(){!b&&g&&k(),S({type:"SET_SHUFFLE",shuffle:!b})};return E&&(E.onended=function(){if(b)for(;;){var e=Math.floor(Math.random()*r.items.length),t=r.items[e].track;if(i!==t){s({type:"SET_TRACK",track:t});var a=y;S({type:"SET_PLAYING",playing:!1});var n=new Audio(t.preview_url);n.loop=g,S({type:"SET_AUDIO",audio:n}),a&&S({type:"SET_PLAYING",playing:!0}),document.title="".concat(t.name," \xb7 ").concat(t.artists.map((function(e){return e.name})).join(", "));break}}b||g||S({type:"SET_PLAYING",playing:!1})}),l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"footer__left"},l.a.createElement("img",{className:"footer__albumLogo",src:i?i.album.images[0].url:null===m||void 0===m||null===(t=m.images[0])||void 0===t?void 0:t.url,alt:""}),l.a.createElement("div",{className:"footer__songInfo"},l.a.createElement("h4",null,i?i.name:"Please Play A Song"),l.a.createElement("p",null,i?i.artists.map((function(e){return e.name})).join(", "):"Aucostic Player"))),l.a.createElement("div",{className:"footer__center"},l.a.createElement($.a,{onClick:i?T:null,className:b?"footer__orange":"footer__icon"}),l.a.createElement(V.a,{onClick:function(){var e,t,a,n,l=0,o=0;(null===r||void 0===r?void 0:r.items).forEach((function(e){l++,e.track.id===i.id&&(o=l-2)})),s({type:"SET_TRACK",track:null===r||void 0===r||null===(e=r.items[o])||void 0===e?void 0:e.track});var c=y;S({type:"SET_PLAYING",playing:!1});var u=new Audio(null===r||void 0===r||null===(t=r.items[o])||void 0===t?void 0:t.track.preview_url);u.loop=g,S({type:"SET_AUDIO",audio:u}),c&&S({type:"SET_PLAYING",playing:!0}),document.title="".concat(null===r||void 0===r||null===(a=r.items[o])||void 0===a?void 0:a.track.name," \xb7 ").concat(null===r||void 0===r||null===(n=r.items[o])||void 0===n?void 0:n.track.artists.map((function(e){return e.name})).join(", "))},className:"footer__icon"}),y?l.a.createElement(oe.a,{onClick:i?function(){S({type:"SET_PLAYING",playing:!1})}:null,fontSize:"large",className:"footer__icon"}):l.a.createElement(z.a,{onClick:i?function(){S({type:"SET_PLAYING",playing:!0}),S({type:"SET_VOLUME",volume:_/100})}:null,fontSize:"large",className:"footer__icon"}),l.a.createElement(J.a,{onClick:function(){var e,t,a,n,l=0,o=0;(null===r||void 0===r?void 0:r.items).forEach((function(e){l++,e.track.id===i.id&&(o=l)})),s({type:"SET_TRACK",track:null===r||void 0===r||null===(e=r.items[o])||void 0===e?void 0:e.track});var c=y;S({type:"SET_PLAYING",playing:!1});var u=new Audio(null===r||void 0===r||null===(t=r.items[o])||void 0===t?void 0:t.track.preview_url);u.loop=g,S({type:"SET_AUDIO",audio:u}),c&&S({type:"SET_PLAYING",playing:!0}),document.title="".concat(null===r||void 0===r||null===(a=r.items[o])||void 0===a?void 0:a.track.name," \xb7 ").concat(null===r||void 0===r||null===(n=r.items[o])||void 0===n?void 0:n.track.artists.map((function(e){return e.name})).join(", "))},className:"footer__icon"}),l.a.createElement(Q.a,{onClick:i?k:null,className:g?"footer__orange":"footer__icon"})),l.a.createElement("div",{className:"footer__right"},l.a.createElement(X.a,{container:!0,spacing:2},l.a.createElement(X.a,{item:!0},l.a.createElement(te.a,null)),l.a.createElement(X.a,{item:!0},l.a.createElement(ne.a,null)),l.a.createElement(X.a,{item:!0,xs:!0},l.a.createElement(Z.a,{"aria-labelledby":"discrete-slider",valueLabelDisplay:"off",onChange:function(e,t){S({type:"SET_VOLUME",volume:t/100})},min:0,max:100})))))};var ce=function(e){var t=e.spotify;return l.a.createElement("div",{className:"player"},l.a.createElement("div",{className:"player_body"},l.a.createElement(h,{spotify:t}),l.a.createElement(D,{spotify:t})),l.a.createElement(ie,{spotify:t}))},re=new d.a;var se=function(){var e=f(),t=Object(c.a)(e,2),a=t[0].token,o=t[1];return Object(n.useEffect)((function(){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e}),{});window.location.hash="";var t=e.access_token;t&&(o({type:"SET_TOKEN",token:t}),o({type:"SET_SPOTIFY",spotify:re}),re.setAccessToken(t),re.getMe().then((function(e){o({type:"SET_USER",user:e})})),re.getUserPlaylists().then((function(e){o({type:"SET_PLAYLISTS",playlists:e})})))}),[a,o]),l.a.createElement("div",{className:"app"}," ",a?l.a.createElement(ce,{spotify:re}):l.a.createElement(u,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(3),me=function(e,t){switch(t.type){case"SET_USER":return Object(ue.a)(Object(ue.a)({},e),{},{user:t.user});case"SET_TOKEN":return Object(ue.a)(Object(ue.a)({},e),{},{token:t.token});case"SET_PLAYLISTS":return Object(ue.a)(Object(ue.a)({},e),{},{playlists:t.playlists});case"SET_CURRENT_PLAYLIST":var a=null;return e.playlists.items.forEach((function(e){e.id===t.id&&(a=e)})),Object(ue.a)(Object(ue.a)({},e),{},{current_playlist:a});case"SET_TRACKS":return Object(ue.a)(Object(ue.a)({},e),{},{tracks:t.tracks});case"SET_TRACK":return Object(ue.a)(Object(ue.a)({},e),{},{track:t.track});default:return e}},de=function(e,t){switch(t.type){case"SET_AUDIO":return Object(ue.a)(Object(ue.a)({},e),{},{audio:t.audio});case"SET_PLAYING":return t.playing?e.audio&&e.audio.play():e.audio&&e.audio.pause(),Object(ue.a)(Object(ue.a)({},e),{},{playing:t.playing});case"SET_VOLUME":return e.audio&&(e.audio.volume=t.volume),Object(ue.a)(Object(ue.a)({},e),{},{volume:t.volume});case"SET_REPEAT":return e.audio&&(e.audio.loop=t.repeat),Object(ue.a)(Object(ue.a)({},e),{},{repeat:t.repeat});case"SET_SHUFFLE":return e.audio?Object(ue.a)(Object(ue.a)({},e),{},{shuffle:t.shuffle}):e;default:return e}};i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(E,{initialState:{user:null,playlists:[],playing:!1,item:null,current_playlist:null,tracks:null,track:null,token:null},reducer:me},l.a.createElement(K,{initialState:{audio:null,playing:!1,volume:.5,repeat:!1,shuffle:!1},reducer:de},l.a.createElement(se,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.373cb74b.chunk.js.map